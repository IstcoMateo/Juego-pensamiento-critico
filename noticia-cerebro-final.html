<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ§  Noticia: El Reinicio Cerebral</title>
  <meta name="description" content="Juego educativo: noticia sobre investigaciÃ³n del sueÃ±o. Decide si es verdadera o falsa y desbloquea pistas jugando.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="icon" href="favicon.ico">
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#07041A;--card:#120D30;--card2:#1C1548;
  --purple:#9333EA;--blue:#3B82F6;--cyan:#22D3EE;
  --green:#10B981;--yellow:#FCD34D;--pink:#F472B6;
  --orange:#FB923C;--red:#EF4444;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Nunito',sans-serif;background:var(--bg);color:#fff;min-height:100vh;overflow-x:hidden;}
.sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}
.focus-outline:focus{outline:3px solid var(--cyan);outline-offset:3px}
.prefers-reduced-motion *{animation:none!important;transition:none!important}
.prefers-reduced-motion .bg{display:none}
.bg{position:fixed;inset:0;z-index:0;pointer-events:none;
  background:radial-gradient(ellipse 70% 50% at 20% 10%,#1a0545 0%,transparent 60%),
             radial-gradient(ellipse 60% 50% at 80% 80%,#050e2e 0%,transparent 60%);}
.wrap{position:relative;z-index:1;max-width:780px;margin:0 auto;padding:16px 14px 40px;}

/* HEADER */
.hdr{text-align:center;padding:26px 12px 10px;}
.hdr-icon{font-size:68px;display:block;animation:float 3s ease-in-out infinite;}
.hdr h1{font-family:'Fredoka One',cursive;font-size:clamp(1.7rem,5vw,2.6rem);
  background:linear-gradient(135deg,var(--cyan),var(--purple),var(--pink));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  margin:8px 0 4px;line-height:1.1;}
.hdr p{color:#a78bfa;font-size:.92rem;font-weight:700;}

/* SECTION TITLES */
.sec-title{font-family:'Fredoka One',cursive;font-size:1.5rem;color:#e2d9f3;
  margin:28px 0 12px;display:flex;align-items:center;gap:10px;}
.sec-line{flex:1;height:2px;background:linear-gradient(90deg,var(--purple),transparent);border-radius:2px;}

/* ===== NOTICIA ===== */
.news-card{background:var(--card);border:1.5px solid rgba(147,51,234,.25);border-radius:22px;
  padding:24px;box-shadow:0 8px 40px rgba(0,0,0,.55);}
.news-badge{display:inline-flex;align-items:center;gap:8px;
  background:linear-gradient(135deg,var(--purple),var(--blue));
  border-radius:30px;padding:5px 16px;font-size:.76rem;font-weight:800;
  text-transform:uppercase;letter-spacing:1px;margin-bottom:14px;}
.news-title{font-family:'Fredoka One',cursive;font-size:clamp(1.2rem,3.5vw,1.85rem);
  line-height:1.25;color:#f3f0ff;margin-bottom:16px;}
.news-img{width:100%;height:155px;border-radius:16px;margin-bottom:18px;
  background:linear-gradient(135deg,#200a5a,#041a50);
  display:flex;align-items:center;justify-content:center;
  border:2px solid rgba(147,51,234,.3);font-size:80px;gap:16px;}
.news-p{color:#c4b5fd;line-height:1.85;font-size:.95rem;font-weight:600;margin-bottom:12px;}
.quote{background:rgba(147,51,234,.12);border-left:4px solid var(--purple);
  border-radius:0 14px 14px 0;padding:14px 18px;margin:14px 0;
  color:#e2d9f3;font-style:italic;line-height:1.75;font-size:.93rem;}
.quote cite{display:block;color:var(--cyan);font-style:normal;font-size:.78rem;
  font-weight:800;margin-top:8px;}
.effects{background:rgba(6,182,212,.08);border:1.5px solid rgba(6,182,212,.28);
  border-radius:14px;padding:16px;margin:14px 0;}
.effects h4{color:var(--cyan);font-size:.8rem;text-transform:uppercase;
  letter-spacing:1.5px;font-weight:800;margin-bottom:10px;}
.eff{display:flex;align-items:center;gap:10px;padding:6px 0;
  border-bottom:1px solid rgba(6,182,212,.1);color:#a5f3fc;font-weight:700;font-size:.92rem;}
.eff:last-child{border-bottom:none;}

/* ===== VERDADERO / FALSO ===== */
.vf-card{background:var(--card);border:1.5px solid rgba(147,51,234,.25);border-radius:22px;
  padding:24px;box-shadow:0 8px 40px rgba(0,0,0,.55);}
.vf-question{font-size:1.05rem;font-weight:700;color:#e2d9f3;text-align:center;
  margin-bottom:20px;line-height:1.6;}
.vf-btns{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;}
.vfbtn{padding:18px 44px;border:none;border-radius:18px;font-family:'Fredoka One',cursive;
  font-size:1.4rem;cursor:pointer;transition:all .2s;letter-spacing:.5px;}
.vfbtn:active{transform:scale(.95);}
.vfbtn-v{background:linear-gradient(135deg,#047857,var(--green));color:#fff;
  box-shadow:0 6px 22px rgba(16,185,129,.5);}
.vfbtn-v:hover{transform:translateY(-4px);box-shadow:0 10px 28px rgba(16,185,129,.6);}
.vfbtn-f{background:linear-gradient(135deg,#9f1239,var(--red));color:#fff;
  box-shadow:0 6px 22px rgba(239,68,68,.5);}
.vfbtn-f:hover{transform:translateY(-4px);box-shadow:0 10px 28px rgba(239,68,68,.6);}
.vf-result{padding:22px;border-radius:16px;text-align:center;animation:popIn .4s ease;display:none;}
.vf-result.show{display:block;}
.vf-result.verdadero{background:rgba(16,185,129,.1);border:2px solid var(--green);}
.vf-result.falso{background:rgba(239,68,68,.1);border:2px solid var(--red);}
.vfr-icon{font-size:56px;display:block;margin-bottom:10px;animation:bounce 1s ease infinite;}
.vfr-title{font-family:'Fredoka One',cursive;font-size:1.7rem;margin-bottom:8px;}
.vfr-text{color:#c4b5fd;font-size:.93rem;font-weight:700;line-height:1.7;max-width:520px;margin:0 auto 14px;}
.vf-note{background:rgba(252,211,77,.1);border:2px solid rgba(252,211,77,.4);
  border-radius:12px;padding:14px;margin:12px 0;
  color:var(--yellow);font-size:.88rem;font-weight:700;line-height:1.6;}
.btn-retry{background:none;border:2px solid rgba(147,51,234,.5);border-radius:12px;
  padding:9px 22px;color:#a78bfa;font-weight:800;font-size:.88rem;cursor:pointer;
  margin-top:10px;transition:all .2s;}
.btn-retry:hover{border-color:var(--purple);color:#fff;}

/* ===== PISTAS ===== */
.clues-card{background:var(--card);border:1.5px solid rgba(147,51,234,.25);border-radius:22px;
  padding:24px;box-shadow:0 8px 40px rgba(0,0,0,.55);}
.clues-intro{color:#a78bfa;font-size:.92rem;font-weight:700;text-align:center;margin-bottom:18px;line-height:1.6;}

/* Progress */
.prog-row{display:flex;align-items:center;gap:12px;margin-bottom:18px;}
.prog-bar{flex:1;height:10px;background:var(--card2);border-radius:10px;overflow:hidden;
  border:1.5px solid rgba(147,51,234,.2);}
.prog-fill{height:100%;background:linear-gradient(90deg,var(--purple),var(--pink),var(--cyan));
  border-radius:10px;transition:width .6s ease;}
.prog-lbl{color:var(--yellow);font-weight:800;font-size:.88rem;white-space:nowrap;}

/* Clue rows */
.clue-item{display:flex;align-items:center;gap:14px;background:var(--card2);
  border:1.5px solid rgba(147,51,234,.18);border-radius:16px;padding:16px 18px;
  margin-bottom:10px;transition:all .25s;cursor:pointer;position:relative;}
.clue-item:last-child{margin-bottom:0;}
.clue-item:hover:not(.earned){border-color:rgba(147,51,234,.5);transform:translateX(4px);}
.clue-item.earned{border-color:var(--green);background:rgba(16,185,129,.07);cursor:default;}
.clue-item.earned:hover{transform:none;}
.ci-icon{font-size:1.9rem;flex-shrink:0;width:42px;text-align:center;}
.ci-body{flex:1;min-width:0;}
.ci-num{font-size:.7rem;color:var(--purple);font-weight:800;text-transform:uppercase;
  letter-spacing:1px;margin-bottom:2px;}
.ci-text{font-size:.93rem;font-weight:700;color:#e2d9f3;line-height:1.4;}
.ci-text.blur{filter:blur(5px);user-select:none;}
.ci-right{flex-shrink:0;}
.play-btn{background:linear-gradient(135deg,var(--purple),var(--blue));border:none;
  border-radius:10px;padding:8px 14px;color:#fff;font-weight:800;font-size:.8rem;
  cursor:pointer;white-space:nowrap;transition:all .2s;}
.play-btn:hover{transform:scale(1.05);}
.earned-tag{color:var(--green);font-size:.85rem;font-weight:800;}

/* ===== OVERLAY / MODAL ===== */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.88);z-index:300;
  display:flex;align-items:center;justify-content:center;padding:14px;animation:fadeIn .2s ease;}
.overlay.hidden{display:none;}
.modal{background:var(--card);border:2px solid var(--purple);border-radius:24px;
  padding:26px;max-width:500px;width:100%;max-height:88vh;overflow-y:auto;
  animation:popIn .35s ease;position:relative;}
.modal-close{position:absolute;top:14px;right:14px;background:rgba(239,68,68,.12);
  border:1.5px solid rgba(239,68,68,.35);border-radius:8px;padding:4px 12px;
  cursor:pointer;color:var(--red);font-weight:800;font-size:.8rem;}
.modal-close:hover{background:rgba(239,68,68,.25);}
.mg-title{font-family:'Fredoka One',cursive;font-size:1.55rem;color:var(--yellow);margin-bottom:4px;}
.mg-desc{color:#a78bfa;font-size:.86rem;font-weight:700;margin-bottom:18px;line-height:1.55;}

/* WIN */
.win-box{background:rgba(16,185,129,.1);border:2px solid var(--green);border-radius:18px;
  padding:22px;text-align:center;animation:popIn .4s ease;}
.win-box h3{font-family:'Fredoka One',cursive;font-size:1.8rem;color:var(--green);margin:10px 0;}
.clue-reveal{background:rgba(252,211,77,.1);border:2px solid var(--yellow);
  border-radius:14px;padding:16px;margin:12px 0;}
.cr-label{color:var(--yellow);font-size:.73rem;text-transform:uppercase;
  letter-spacing:2px;font-weight:800;margin-bottom:6px;}
.cr-text{color:#fff;font-size:1rem;font-weight:800;line-height:1.5;}

/* BTN */
.btn{padding:12px 28px;border:none;border-radius:14px;font-family:'Fredoka One',cursive;
  font-size:1.05rem;cursor:pointer;transition:all .2s;}
.btn:active{transform:scale(.95);}
.btn-primary{background:linear-gradient(135deg,var(--purple),var(--blue));color:#fff;
  box-shadow:0 5px 18px rgba(147,51,234,.4);}
.btn-primary:hover{transform:translateY(-3px);}
.btn-green{background:linear-gradient(135deg,#047857,var(--green));color:#fff;}
.btn-green:hover{transform:translateY(-3px);}
.btn-danger{background:linear-gradient(135deg,#991b1b,var(--red));color:#fff;}

/* ===== MINI GAME ELEMENTS ===== */
/* Reaction */
.rbox{height:160px;border-radius:18px;border:3px dashed rgba(147,51,234,.4);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  cursor:pointer;user-select:none;transition:all .2s;gap:6px;}
.rbox.wait{background:rgba(252,211,77,.1);border-color:var(--yellow);}
.rbox.go{background:rgba(16,185,129,.2);border-color:var(--green);box-shadow:0 0 24px rgba(16,185,129,.5);}
.rbox.early{background:rgba(239,68,68,.2);border-color:var(--red);}
.rstats{display:flex;gap:12px;justify-content:center;margin:10px 0;flex-wrap:wrap;}
.rpill{font-size:.82rem;font-weight:800;padding:5px 14px;border-radius:20px;
  background:var(--card2);border:1.5px solid rgba(147,51,234,.3);}
/* Simon */
.si-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;max-width:250px;margin:0 auto 14px;}
.si-btn{height:80px;border-radius:16px;border:3px solid transparent;cursor:pointer;
  font-size:2rem;display:flex;align-items:center;justify-content:center;transition:all .15s;}
.si-btn.lit{filter:brightness(2.2);transform:scale(1.07);}
/* Math */
.math-eq{font-family:'Fredoka One',cursive;font-size:2.6rem;text-align:center;
  color:var(--yellow);margin:14px 0;animation:bounce 1.5s infinite;}
.math-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0;}
.mopt{background:var(--card2);border:2px solid rgba(147,51,234,.3);border-radius:14px;
  padding:14px;text-align:center;font-family:'Fredoka One',cursive;font-size:1.6rem;
  cursor:pointer;color:#e2d9f3;transition:all .2s;}
.mopt:hover{border-color:var(--cyan);background:rgba(6,182,212,.1);transform:scale(1.04);}
.mopt.right{border-color:var(--green);background:rgba(16,185,129,.2);color:var(--green);}
.mopt.wrong{border-color:var(--red);background:rgba(239,68,68,.2);color:var(--red);}
/* Word */
.word-hint{background:rgba(252,211,77,.1);border:2px dashed rgba(252,211,77,.4);
  border-radius:12px;padding:12px;margin-bottom:14px;color:var(--yellow);
  font-weight:700;font-size:.86rem;text-align:center;}
.wgrid{display:flex;flex-direction:column;gap:6px;align-items:center;margin:12px 0;}
.wrow{display:flex;gap:6px;}
.wcell{width:46px;height:46px;border-radius:10px;border:2px solid rgba(147,51,234,.3);
  display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.05rem;
  text-transform:uppercase;transition:all .3s;}
.wcell.c{background:var(--green);border-color:var(--green);color:#fff;}
.wcell.p{background:var(--yellow);border-color:var(--yellow);color:#1a0a00;}
.wcell.a{background:#374151;border-color:#4b5563;color:#9ca3af;}
.wcell.cur{border-color:var(--cyan);}
.winp-row{display:flex;gap:8px;margin:12px 0;}
.winp{flex:1;background:var(--card2);border:2px solid rgba(147,51,234,.4);border-radius:12px;
  padding:11px 14px;color:#fff;font-size:1rem;font-weight:800;font-family:monospace;
  text-transform:uppercase;outline:none;letter-spacing:4px;transition:border-color .2s;}
.winp:focus{border-color:var(--cyan);}
/* Spinner */
.spin-wrap{text-align:center;}
.spin-cw{position:relative;display:inline-block;margin:6px 0;}
.sp-arrow{position:absolute;top:-16px;left:50%;transform:translateX(-50%);
  width:0;height:0;border-left:11px solid transparent;border-right:11px solid transparent;
  border-top:20px solid var(--yellow);filter:drop-shadow(0 0 5px var(--yellow));}
.sp-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:16px;height:16px;background:#07041A;border-radius:50%;border:3px solid var(--yellow);}

/* MISC */
.center{text-align:center;}
.mt{margin-top:14px;}
.info-row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin:8px 0;}
.info-pill{font-size:.82rem;font-weight:800;padding:5px 14px;border-radius:20px;
  background:var(--card2);border:1.5px solid rgba(147,51,234,.3);}
.hidden{display:none!important;}
.confp{position:fixed;pointer-events:none;z-index:999;border-radius:3px;animation:confetti linear forwards;}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-12px);}}
@keyframes bounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-7px);}}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
@keyframes popIn{from{opacity:0;transform:scale(.7);}to{opacity:1;transform:scale(1);}}
@keyframes confetti{0%{opacity:1;transform:translateY(-10px) rotate(0);}100%{opacity:0;transform:translateY(100vh) rotate(720deg);}}
@media(max-width:480px){
  .vfbtn{padding:15px 28px;font-size:1.2rem;}
  .wcell{width:40px;height:40px;}
  .math-eq{font-size:2rem;}
}
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important}
  .bg, .confp{display:none}
}
</style>
</head>
<body>
<div class="bg"></div>
<script>
for(let i=0;i<50;i++){
  const s=document.createElement('div');
  const sz=Math.random()*2.5+1;
  s.setAttribute('aria-hidden','true');
  s.style.cssText=`position:fixed;border-radius:50%;background:#fff;pointer-events:none;z-index:0;
  width:${sz}px;height:${sz}px;left:${Math.random()*100}vw;top:${Math.random()*100}vh;
  animation:float ${2+Math.random()*4}s ease-in-out infinite;animation-delay:${Math.random()*4}s;
  opacity:${Math.random()*.6+.15}`;
  document.body.appendChild(s);
}
</script>

<div class="wrap">

  <!-- HEADER -->
  <div class="hdr">
    <span class="hdr-icon">ğŸ§ </span>
    <h1>El Reinicio Cerebral</h1>
    <p>Lee la noticia Â· Â¿Verdadera o Falsa? Â· Desbloquea las pistas</p>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• NOTICIA â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="sec-title">ğŸ“° La Noticia <div class="sec-line"></div></div>

  <div class="news-card">
    <div class="news-badge">ğŸ”¬ Neurociencia Â· InvestigaciÃ³n Internacional</div>
    <h2 class="news-title">CientÃ­ficos descubren que el cerebro humano puede "reiniciarse" durante el sueÃ±o profundo</h2>
    <figure class="news-img" role="img" aria-label="IlustraciÃ³n de un cerebro dormido">
      <div aria-hidden="true">ğŸ§  ğŸ’¤</div>
      <figcaption class="hidden">IlustraciÃ³n de un cerebro dormido</figcaption>
    </figure>

    <p class="news-p">Un equipo internacional de neurocientÃ­ficos afirmÃ³ haber identificado un proceso cerebral al que denominaron <strong style="color:var(--cyan)">"reinicio sinÃ¡ptico nocturno"</strong>, mediante el cual el cerebro reorganizarÃ­a sus conexiones neuronales mientras dormimos.</p>

    <p class="news-p">El estudio habrÃ­a sido desarrollado por el <strong style="color:var(--purple)">Instituto Europeo de NeurotecnologÃ­a Aplicada</strong>, donde los investigadores utilizaron <strong style="color:var(--cyan)">resonancias magnÃ©ticas funcionales</strong> para analizar la actividad cerebral de varios voluntarios durante distintas fases del sueÃ±o.</p>

    <p class="news-p">SegÃºn el informe, durante el sueÃ±o profundo algunas conexiones neuronales reducirÃ­an temporalmente su actividad, permitiendo que otras rutas se fortalezcan. Este mecanismo ayudarÃ­a al cerebro a <strong style="color:var(--green)">optimizar la memoria, mejorar el aprendizaje y favorecer la creatividad.</strong></p>

    <div class="quote">
      "El cerebro no solo descansa mientras dormimos; tambiÃ©n ejecuta un proceso de mantenimiento similar al reinicio de un sistema informÃ¡tico, eliminando informaciÃ³n irrelevante y fortaleciendo los recuerdos importantes."
      <cite>â€” Dra. Elisa Hartmann, NeurobiÃ³loga Â· Directora del Proyecto</cite>
    </div>

    <p class="news-p">Los investigadores seÃ±alaron que dormir <strong style="color:var(--red)">menos de seis horas</strong> podrÃ­a interrumpir este reinicio cerebral, causando:</p>

    <div class="effects">
      <h4>âš ï¸ Consecuencias del sueÃ±o insuficiente</h4>
      <div class="eff">ğŸ˜µ Menor concentraciÃ³n</div>
      <div class="eff">ğŸ¤” Peor toma de decisiones</div>
      <div class="eff">ğŸ“‰ ReducciÃ³n del rendimiento acadÃ©mico</div>
      <div class="eff">ğŸ§© Dificultades para resolver problemas</div>
    </div>

    <p class="news-p">El hallazgo generÃ³ interÃ©s entre especialistas del sueÃ±o, aunque algunos expertos recomendaron realizar mÃ¡s estudios antes de confirmar el fenÃ³meno.</p>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• VERDADERO / FALSO â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="sec-title">âš–ï¸ Â¿Es Verdadera o Falsa? <div class="sec-line"></div></div>

  <div class="vf-card" id="vf-card">
    <p class="vf-question">DespuÃ©s de leer la noticia, Â¿quÃ© piensas?<br>Â¿Crees que esta informaciÃ³n es <strong style="color:var(--green)">verdadera</strong> o <strong style="color:var(--red)">falsa</strong>?</p>
    <div class="vf-btns" id="vf-btns">
      <button class="vfbtn vfbtn-v" onclick="elegir('verdadero')">âœ… VERDADERA</button>
      <button class="vfbtn vfbtn-f" onclick="elegir('falso')">âŒ FALSA</button>
    </div>

    <!-- Resultado verdadero -->
    <div class="vf-result verdadero" id="res-verdadero" role="status" aria-live="polite">
      <span class="vfr-icon">ğŸŸ¡</span>
      <div class="vfr-title" style="color:var(--yellow)">Â¡Elegiste VERDADERA!</div>
      <p class="vfr-text">Elegiste bien en cuanto a los conceptos cientÃ­ficos. El sueÃ±o sÃ­ reorganiza conexiones neuronales y la ciencia estudia activamente estos procesos. Sin embargo, algunos detalles de esta noticia no se pueden verificar completamente.</p>
      <div class="vf-note">
        âš ï¸ <strong>Â¡Ojo!</strong> El "Instituto Europeo de NeurotecnologÃ­a Aplicada" y la "Dra. Elisa Hartmann" no aparecen en registros cientÃ­ficos verificables. Los conceptos sobre el sueÃ±o son reales, pero los detalles especÃ­ficos de esta investigaciÃ³n no estÃ¡n confirmados. <br><br>
        ğŸ” <strong>Desbloquea las 5 pistas de abajo para descubrir mÃ¡s detalles.</strong>
      </div>
      <button class="btn-retry" onclick="resetVF()">ğŸ”„ Cambiar respuesta</button>
    </div>

    <!-- Resultado falso -->
    <div class="vf-result falso" id="res-falso" role="status" aria-live="polite">
      <span class="vfr-icon">ğŸŸ¡</span>
      <div class="vfr-title" style="color:var(--yellow)">Â¡Elegiste FALSA!</div>
      <p class="vfr-text">Buen olfato crÃ­tico. Algunos elementos de esta noticia no se pueden verificar. Pero no todo es inventado: la neurociencia del sueÃ±o es una ciencia real y sÃ­ estudia cÃ³mo el cerebro procesa informaciÃ³n mientras dormimos.</p>
      <div class="vf-note">
        ğŸ§ª <strong>La realidad:</strong> Los efectos del sueÃ±o descritos tienen respaldo cientÃ­fico real. Lo que no se puede verificar es el instituto y la investigadora mencionados. Es una noticia que mezcla ciencia real con datos no confirmados. <br><br>
        ğŸ” <strong>Desbloquea las 5 pistas de abajo para descubrir todos los detalles.</strong>
      </div>
      <button class="btn-retry" onclick="resetVF()">ğŸ”„ Cambiar respuesta</button>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• PISTAS â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="sec-title">ğŸ”‘ Las 5 Pistas <div class="sec-line"></div></div>

  <div class="clues-card">
    <p class="clues-intro">Cada pista estÃ¡ bloqueada. Haz clic en <strong style="color:var(--yellow)">â–¶ Jugar</strong> y gana el mini-juego para desbloquearla.</p>
    <div class="prog-row">
      <div class="prog-bar"><div class="prog-fill" id="prog" style="width:0%"></div></div>
      <div class="prog-lbl" id="prog-lbl">0/5</div>
    </div>
    <div id="clues-list"></div>
  </div>

</div><!-- /wrap -->

<!-- OVERLAY MINI-JUEGO -->
<div class="overlay hidden" id="overlay">
  <div class="modal">
    <button class="modal-close" onclick="closeModal()">âœ• Cerrar</button>
    <div id="mg-area"></div>
  </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  DATA
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CLUES=[
  {num:'P1',icon:'ğŸ”¬',text:'NeurocientÃ­ficos investigaron quÃ© ocurre en el cerebro mientras las personas duermen.',game:'reaction'},
  {num:'P2',icon:'âš¡',text:'Se usÃ³ tecnologÃ­a avanzada para observar la actividad neuronal durante el sueÃ±o profundo.',game:'simon'},
  {num:'P3',icon:'ğŸ›ï¸',text:'La investigaciÃ³n se realizÃ³ en el Instituto Europeo de NeurotecnologÃ­a Aplicada.',game:'math'},
  {num:'P4',icon:'ğŸ’¡',text:'Denominaron a este fenÃ³meno "reinicio sinÃ¡ptico nocturno".',game:'word'},
  {num:'P5',icon:'ğŸŒ™',text:'Creen que el cerebro reorganiza la informaciÃ³n aprendida durante el dÃ­a.',game:'spinner'},
];

let earned=[];
let failed=[];
let activeCl=-1;

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  VERDADERO / FALSO
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function elegir(op){
  document.getElementById('vf-btns').classList.add('hidden');
  document.getElementById('res-verdadero').classList.remove('show');
  document.getElementById('res-falso').classList.remove('show');
  document.getElementById('res-'+op).classList.add('show');
  spawnConfetti(30);
  // Guardar respuesta y permitir mostrar resultado final
  window.vfRespuesta = op;
  setTimeout(()=>{
    if((earned.length+1-failed.length)>=4){ // 4 o mÃ¡s pistas ganadas
      mostrarResultadoFinal();
    }
  }, 2000);
}

function mostrarResultadoFinal(){
  // La noticia es VERDADERA
  const correcta = 'verdadero';
  let acierto = (window.vfRespuesta === correcta);
  let pistas = earned.length+1-failed.length;
  let msg = '';
  if(pistas>=4 && acierto){
    msg = `<div style="font-size:2.2rem;color:var(--green);font-family:'Fredoka One',cursive">ğŸ‰ Â¡FELICITACIONES!</div><div style="margin:12px 0 8px;font-size:1.2rem">Acertaste la noticia y desbloqueaste <b>${pistas}</b> pistas.</div><div style="color:#a78bfa;font-size:1.1rem">Â¡Eres un gran pensador crÃ­tico!</div>`;
  }else if(pistas>=4 && !acierto){
    msg = `<div style="font-size:2.2rem;color:var(--yellow);font-family:'Fredoka One',cursive">ğŸ§ Casi...</div><div style="margin:12px 0 8px;font-size:1.2rem">Desbloqueaste <b>${pistas}</b> pistas, pero tu respuesta final no fue correcta.</div><div style="color:#a78bfa;font-size:1.1rem">Â¡Sigue practicando!</div>`;
  }else{
    msg = `<div style="font-size:2.2rem;color:var(--red);font-family:'Fredoka One',cursive">âŒ</div><div style="margin:12px 0 8px;font-size:1.2rem">No lograste desbloquear suficientes pistas para resolver la noticia.</div><div style="color:#a78bfa;font-size:1.1rem">Intenta de nuevo.</div>`;
  }
  setTimeout(()=>{
    document.body.innerHTML = `<div style='display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--bg);'>${msg}<br><button class='btn btn-primary' onclick='location.reload()'>Volver a jugar</button></div>`;
  }, 1200);
}
function resetVF(){
  document.getElementById('vf-btns').classList.remove('hidden');
  document.getElementById('res-verdadero').classList.remove('show');
  document.getElementById('res-falso').classList.remove('show');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  CLUES LIST
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderClues(){
  document.getElementById('prog').style.width=(earned.length/5*100)+'%';
  document.getElementById('prog-lbl').textContent=earned.length+'/5';
  document.getElementById('clues-list').innerHTML=CLUES.map((c,i)=>{
    let state = earned.includes(i) ? 'earned' : failed.includes(i) ? 'failed' : '';
    let right = '';
    if (earned.includes(i)) right = '<span class="earned-tag">âœ…</span>';
    else if (failed.includes(i)) right = '<span class="earned-tag" style="color:var(--red)">âŒ Pista perdida</span>';
    else right = `<button class="play-btn" onclick="openGame(${i})">â–¶ Jugar</button>`;
    return `<div class="clue-item ${state}">
      <div class="ci-icon">${c.icon}</div>
      <div class="ci-body">
        <div class="ci-num">${c.num}</div>
        <div class="ci-text ${earned.includes(i)?'':'blur'}">${c.text}</div>
      </div>
      <div class="ci-right">${right}</div>
    </div>`;
  }).join('');
}
renderClues();

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  MODAL
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openGame(i){
  if (earned.includes(i) || failed.includes(i)) return;
  activeCl=i;
  clearTmr();
  document.getElementById('overlay').classList.remove('hidden');
  const fns={reaction:buildReaction,simon:buildSimon,math:buildMath,word:buildWord,spinner:buildSpinner};
  document.getElementById('mg-area').innerHTML='';
  fns[CLUES[i].game]();
}
function closeModal(){
  document.getElementById('overlay').classList.add('hidden');
  clearTmr();
  renderClues();
}

// timers
let _tmr=[];
function _t(f,ms){const id=setTimeout(f,ms);_tmr.push(id);return id;}
function _i(f,ms){const id=setInterval(f,ms);_tmr.push(id);return id;}
function clearTmr(){_tmr.forEach(id=>{clearTimeout(id);clearInterval(id);});_tmr=[];}

// cleanup timers on unload
window.addEventListener('beforeunload',()=>clearTmr());

function winClue(){
  clearTmr();
  if(!earned.includes(activeCl)) earned.push(activeCl);
  const c=CLUES[activeCl];
  spawnConfetti(70);
  document.getElementById('mg-area').innerHTML=`
    <div class="win-box">
      <div style="font-size:58px;animation:bounce 1s infinite">ğŸ‰</div>
      <h3>Â¡Pista Desbloqueada!</h3>
      <div class="clue-reveal">
        <div class="cr-label">${c.num} ${c.icon}</div>
        <div class="cr-text">${c.text}</div>
      </div>
      <div class="center mt"><button class="btn btn-green" onclick="closeModal()">âœ… Cerrar</button></div>
    </div>`;
}

function loseClue(){
  clearTmr();
  if(!failed.includes(activeCl)) failed.push(activeCl);
  const c=CLUES[activeCl];
  document.getElementById('mg-area').innerHTML=`
    <div class="win-box" style="border-color:var(--red);background:rgba(239,68,68,.08)">
      <div style="font-size:58px;animation:bounce 1s infinite;color:var(--red)">âŒ</div>
      <h3 style="color:var(--red)">Pista perdida</h3>
      <div class="clue-reveal">
        <div class="cr-label">${c.num} ${c.icon}</div>
        <div class="cr-text">No podrÃ¡s volver a intentarlo.</div>
      </div>
      <div class="center mt"><button class="btn btn-danger" onclick="closeModal()">Cerrar</button></div>
    </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  JUEGO 1 â€” REACCIÃ“N (P1)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let rS = {};
let rAttempts = 3;
function buildReaction() {
  document.getElementById('mg-area').innerHTML = `
    <div class="mg-title">âš¡ Juego de ReacciÃ³n</div>
    <div class="mg-desc">Haz clic SOLO cuando se ponga en <strong style="color:var(--green)">VERDE</strong>.<br>
    Si haces clic antes â†’ racha perdida. Necesitas <strong style="color:var(--yellow)">3 aciertos seguidos</strong> en menos de 500ms.<br><span style="color:var(--red);font-weight:800">Tienes <strong>3 intentos</strong> para desbloquear esta pista.</span></div>
    <div class="rstats">
      <div class="rpill">âœ… Racha: <strong id="r-st" style="color:var(--green)">0</strong>/3</div>
      <div class="rpill">âŒ Fallos: <strong id="r-fa" style="color:var(--pink)">0</strong></div>
    </div>
    <div class="rbox" id="rbox" onclick="rClick()">
      <span style="font-size:3rem" id="r-em">ğŸ‘†</span>
      <span style="font-family:'Fredoka One',cursive;font-size:1.05rem" id="r-lb">Haz clic para comenzar</span>
    </div>
    <div style="text-align:center;font-family:'Fredoka One',cursive;font-size:1.5rem;color:var(--yellow);margin:10px 0;min-height:34px" id="r-ms"></div>`;
  rS = { phase: 'idle', streak: 0, fails: 0, timeout: null, failFlag: false };
}
function rClick() {
  if (rS.failFlag) return;
  const box = document.getElementById('rbox');
  const lb = document.getElementById('r-lb');
  const em = document.getElementById('r-em');
  const ms = document.getElementById('r-ms');
  if (!box) return;
  if (rS.phase === 'idle') {
    rS.phase = 'wait'; box.className = 'rbox wait';
    em.textContent = 'â³'; lb.textContent = 'Espera al verdeâ€¦'; ms.textContent = '';
    rS.timeout = _t(() => {
      rS.phase = 'go'; rS.t0 = performance.now();
      box.className = 'rbox go'; em.textContent = 'ğŸŸ¢'; lb.textContent = 'Â¡AHORA!';
      rS.timeout = _t(() => {
        rS.phase = 'idle'; rS.streak = 0;
        box.className = 'rbox'; em.textContent = 'ğŸ˜´'; lb.textContent = 'Muy lento.';
        ms.innerHTML = '<span style="color:var(--red)">Tiempo agotado âŒ</span>';
        document.getElementById('r-st').textContent = 0;
        rAttempts--;
        if (rAttempts > 0) {
          lb.textContent = `Te quedan ${rAttempts} intento(s). Haz clic para reintentar.`;
          rS.failFlag = false;
        } else {
          lb.textContent = 'Sin mÃ¡s intentos.';
          rS.failFlag = true; _t(loseClue, 1200);
        }
      }, 1200);
    }, 1500 + Math.random() * 3500);
  } else if (rS.phase === 'wait') {
    clearTimeout(rS.timeout);
    rS.phase = 'idle'; rS.streak = 0; rS.fails++;
    box.className = 'rbox early'; em.textContent = 'ğŸ’”';
    lb.textContent = 'Â¡Demasiado pronto!';
    ms.innerHTML = '<span style="color:var(--red)">Racha perdida âŒ</span>';
    document.getElementById('r-st').textContent = 0;
    document.getElementById('r-fa').textContent = rS.fails;
    rAttempts--;
    if (rAttempts > 0) {
      lb.textContent = `Te quedan ${rAttempts} intento(s). Haz clic para reintentar.`;
      rS.failFlag = false;
    } else {
      lb.textContent = 'Sin mÃ¡s intentos.';
      rS.failFlag = true; _t(loseClue, 1200);
    }
  } else if (rS.phase === 'go') {
    clearTimeout(rS.timeout);
    const t = Math.round(performance.now() - rS.t0);
    rS.phase = 'idle';
    if (t < 500) {
      rS.streak++;
      document.getElementById('r-st').textContent = rS.streak;
      ms.innerHTML = `<span style="color:var(--green)">${t}ms âœ…</span>`;
      box.className = 'rbox'; em.textContent = 'âš¡';
      lb.textContent = rS.streak >= 3 ? 'ğŸ‰ Â¡Ganaste!' : `Â¡Bien! (${rS.streak}/3) Clic para continuar.`;
      if (rS.streak >= 3) { _t(winClue, 700); return; }
    } else {
      rS.streak = 0; rS.fails++;
      ms.innerHTML = `<span style="color:var(--red)">${t}ms â€” muy lento âŒ</span>`;
      box.className = 'rbox'; em.textContent = 'ğŸŒ'; lb.textContent = 'Demasiado lento.';
      document.getElementById('r-st').textContent = 0;
      document.getElementById('r-fa').textContent = rS.fails;
      rAttempts--;
      if (rAttempts > 0) {
        lb.textContent = `Te quedan ${rAttempts} intento(s). Haz clic para reintentar.`;
        rS.failFlag = false;
      } else {
        lb.textContent = 'Sin mÃ¡s intentos.';
        rS.failFlag = true; _t(loseClue, 1200);
      }
    }
  }
}
const SI_E=['ğŸŸ£','ğŸ”µ','ğŸŸ¢','ğŸŸ¡','ğŸ”´','ğŸŸ ','ğŸŸ¤','âšª'];
const SI_C=['#9333EA','#3B82F6','#10B981','#FCD34D','#EF4444','#FB923C','#A16207','#F3F4F6'];
let siS={};
function buildSimon(){
  document.getElementById('mg-area').innerHTML=`
    <div class="mg-title">ğŸŸ¦ Simon Says</div>
    <div class="mg-desc">Memoriza y repite la secuencia de colores.<br>
    Llega a <strong style="color:var(--yellow)">ronda 5</strong> para ganar. Â¡Un error reinicia todo desde ronda 1!</div>
    <div style="text-align:center;font-family:'Fredoka One',cursive;font-size:1.15rem;color:var(--yellow);margin:4px 0">Ronda: <span id="si-r">â€”</span>/5</div>
    <div style="text-align:center;color:#a78bfa;font-weight:800;font-size:.88rem;margin:6px 0" id="si-st">Presiona Iniciar</div>
    <div class="si-grid" id="si-g"></div>
    <div class="center"><button class="btn btn-primary" id="si-go" onclick="siStart()">â–¶ Iniciar</button></div>`;
  const g=document.getElementById('si-g');
  SI_C.forEach((c,i)=>{
    const b=document.createElement('div');b.className='si-btn';b.id='si-b'+i;
    b.style.cssText=`background:${c}44;border-color:${c};`;
    b.innerHTML=`<span style="font-size:1.9rem">${SI_E[i]}</span>`;
    b.onclick=()=>siPress(i);g.appendChild(b);
  });
  siS={seq:[],usr:[],lvl:0,lock:true};
}
function siStart(){
  document.getElementById('si-go').classList.add('hidden');
  siS={seq:[],usr:[],lvl:0,lock:true};siNext();
}
function siNext(){
  siS.seq.push(Math.floor(Math.random()*SI_C.length));siS.usr=[];siS.lvl++;siS.lock=true;
  document.getElementById('si-r').textContent=siS.lvl;
  document.getElementById('si-st').textContent='ğŸ‘€ Memorizaâ€¦';
  let i=0;
  function show(){
    if(i>=siS.seq.length){siS.lock=false;document.getElementById('si-st').textContent='ğŸ– Â¡Tu turno!';return;}
    const idx=siS.seq[i];const b=document.getElementById('si-b'+idx);
    _t(()=>{b.classList.add('lit');b.style.background=SI_C[idx];
      _t(()=>{b.classList.remove('lit');b.style.background=SI_C[idx]+'44';i++;_t(show,300);},500);
    },100);
  }
  _t(show,700);
}
function siPress(idx){
  if(siS.lock)return;
  const b=document.getElementById('si-b'+idx);
  b.classList.add('lit');b.style.background=SI_C[idx];
  _t(()=>{b.classList.remove('lit');b.style.background=SI_C[idx]+'44';},200);
  siS.usr.push(idx);
  const pos=siS.usr.length-1;
  if(siS.usr[pos]!==siS.seq[pos]){
    siS.lock=true;
    document.getElementById('si-st').textContent='âŒ Â¡Error! Reiniciandoâ€¦';
    document.getElementById('si-r').textContent='â€”';
    _t(()=>{siS={seq:[],usr:[],lvl:0,lock:true};
      document.getElementById('si-go').classList.remove('hidden');
      document.getElementById('si-st').textContent='Presiona Iniciar para reintentar';
    },1500);return;
  }
  if(siS.usr.length===siS.seq.length){
    siS.lock=true;
    if(siS.lvl>=5){document.getElementById('si-st').textContent='ğŸ‰ Â¡Ganaste!';_t(winClue,800);}
    else{document.getElementById('si-st').textContent='âœ… Â¡Correcto!';_t(siNext,900);}
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  JUEGO 3 â€” MATEMÃTICAS (P3)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let mS={};
function buildMath(){
  document.getElementById('mg-area').innerHTML=`
    <div class="mg-title">ğŸ”¢ Reto MatemÃ¡tico</div>
    <div class="mg-desc">Resuelve <strong style="color:var(--yellow)">5 operaciones SEGUIDAS</strong> sin un solo error.<br>
    Cada fallo reinicia la racha. Tienes <strong style="color:var(--red)">3 vidas</strong> totales.</div>
    <div class="info-row">
      <div class="info-pill">ğŸ¯ Racha: <strong id="m-s" style="color:var(--green)">0</strong>/5</div>
      <div class="info-pill">â¤ï¸ Vidas: <strong id="m-l" style="color:var(--red)">3</strong></div>
    </div>
    <div class="math-eq" id="m-eq">Â¿Listo?</div>
    <div class="math-grid" id="m-g"></div>
    <p id="m-fb" style="text-align:center;font-weight:800;min-height:22px;font-size:.9rem"></p>
    <div class="center"><button class="btn btn-primary" id="m-go" onclick="mStart()">â–¶ Comenzar</button></div>`;
  mS={streak:0,lives:3};
}
function mStart(){document.getElementById('m-go').classList.add('hidden');mNext();}
function mNext(){
  const ops=['+','-','Ã—'];const op=ops[Math.floor(Math.random()*ops.length)];
  let a,b,ans;
  if(op==='+'){a=15+Math.floor(Math.random()*85);b=15+Math.floor(Math.random()*85);ans=a+b;}
  else if(op==='-'){a=30+Math.floor(Math.random()*70);b=10+Math.floor(Math.random()*40);ans=a-b;}
  else{a=3+Math.floor(Math.random()*12);b=3+Math.floor(Math.random()*12);ans=a*b;}
  document.getElementById('m-eq').textContent=`${a} ${op} ${b} = ?`;
  document.getElementById('m-fb').textContent='';
  const set=new Set([ans]);
  while(set.size<4){const f=ans+Math.floor(Math.random()*30)-15;if(f!==ans&&f>0)set.add(f);}
  document.getElementById('m-g').innerHTML=[...set].sort(()=>Math.random()-.5)
    .map(o=>`<div class="mopt" onclick="mAns(this,${o},${ans})">${o}</div>`).join('');
}
function mAns(el,chosen,correct){
  document.querySelectorAll('.mopt').forEach(o=>o.onclick=null);
  if(chosen===correct){
    el.classList.add('right');mS.streak++;
    document.getElementById('m-s').textContent=mS.streak;
    document.getElementById('m-fb').innerHTML=`<span style="color:var(--green)">âœ… Â¡Correcto! (${mS.streak}/5)</span>`;
    if(mS.streak>=5){_t(winClue,700);return;}
    _t(mNext,900);
  } else {
    el.classList.add('wrong');
    document.querySelectorAll('.mopt').forEach(o=>{if(+o.textContent===correct)o.classList.add('right');});
    mS.streak=0;mS.lives--;
    document.getElementById('m-s').textContent=0;
    document.getElementById('m-l').textContent=mS.lives;
    document.getElementById('m-fb').innerHTML=`<span style="color:var(--red)">âŒ Era ${correct}. Racha a 0.</span>`;
    if(mS.lives<=0){_t(()=>{buildMath();},1500);return;}
    _t(mNext,1200);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  JUEGO 4 â€” ADIVINA LA PALABRA (P4)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const WW = 'SUENO';
let wS = {};
function buildWord() {
  wS = { att: [], max: 3 };
  document.getElementById('mg-area').innerHTML = `
    <div class="mg-title">ğŸ”¤ Adivina la Palabra</div>
    <div class="mg-desc"><strong style="color:var(--yellow)">3 intentos</strong> para adivinar la palabra de 5 letras.<br>
    ğŸŸ© posiciÃ³n correcta &nbsp; ğŸŸ¨ letra existe &nbsp; â¬› no existe</div>
    <div class="word-hint">ğŸ’¡ Pista: Proceso que hace el cerebro por las noches (5 letras, sin tilde)</div>
    <div class="wgrid" id="wg">${wRender()}</div>
    <div style="text-align:center;color:#a78bfa;font-size:.8rem;font-weight:800;margin:5px 0">
      Intentos restantes: <strong id="w-left" style="color:var(--yellow)">3</strong>
    </div>
    <div class="winp-row">
      <input class="winp" id="winp" maxlength="5" placeholder="XXXXX" autocomplete="off" spellcheck="false">
      <button class="btn btn-primary" onclick="wSubmit()">â†©</button>
    </div>
    <p id="w-msg" style="text-align:center;font-weight:800;min-height:22px;font-size:.88rem;margin-top:6px"></p>`;
  document.getElementById('winp').addEventListener('keydown', e => { if (e.key === 'Enter') wSubmit(); });
}
function wRender() {
  let h = '';
  for (let r = 0; r < 3; r++) {
    h += '<div class="wrow">';
    for (let c = 0; c < 5; c++) {
      let cls = 'wcell', lt = '';
      if (wS.att[r]) {
        lt = wS.att[r][c] || '';
        if (wS.att[r][c] === WW[c]) cls += ' c';
        else if (WW.includes(wS.att[r][c])) cls += ' p';
        else cls += ' a';
      } else if (r === wS.att.length) cls += ' cur';
      h += `<div class="${cls}">${lt}</div>`;
    }
    h += '</div>';
  }
  return h;
}
function wSubmit() {
  const inp = document.getElementById('winp');
  const val = inp.value.toUpperCase().replace(/[Ã‘ÃšÃ‰ÃÃÃ“Ã¼Ã©Ã¡Ã­Ã³Ãº]/g, c => ({ Ã‘: 'N', Ãš: 'U', Ã‰: 'E', Ã: 'A', Ã: 'I', Ã“: 'O' }[c] || c)).trim();
  const msg = document.getElementById('w-msg');
  if (val.length !== 5) { msg.innerHTML = '<span style="color:var(--red)">Necesitas exactamente 5 letras.</span>'; return; }
  wS.att.push(val); inp.value = '';
  document.getElementById('wg').innerHTML = wRender();
  document.getElementById('w-left').textContent = 3 - wS.att.length;
  if (val === WW) {
    msg.innerHTML = '<span style="color:var(--green)">ğŸ‰ Â¡Correcto! Era SUEÃ‘O.</span>';
    wS.solved = true;
    _t(winClue, 900);
    return;
  }
  if (wS.att.length >= 3) {
    // Si acertÃ³ la palabra, gana la pista
    if (wS.solved) {
      return;
    }
    // Si no acertÃ³, pierde la pista
    msg.innerHTML = `<span style="color:var(--red)">ğŸ˜µ Era <strong>${WW}</strong>. Pista perdida.</span>`;
    _t(() => { loseClue(); }, 2000);
    return;
  }
  const ok = val.split('').filter((ch, i) => ch === WW[i]).length;
  msg.innerHTML = `<span style="color:var(--yellow)">${ok} letra(s) en posiciÃ³n exacta ğŸŸ©</span>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  JUEGO 5 â€” RULETA (P5)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SP=[
  {c:'#9333EA',l:'ğŸ”‘ PISTA',w:true},{c:'#EF4444',l:'âŒ NOPE',w:false},
  {c:'#22D3EE',l:'ğŸ”‘ PISTA',w:true},{c:'#F59E0B',l:'âŒ NOPE',w:false},
  {c:'#10B981',l:'ğŸ”‘ PISTA',w:true},{c:'#F97316',l:'âŒ NOPE',w:false},
  {c:'#3B82F6',l:'ğŸ”‘ PISTA',w:true},{c:'#BE185D',l:'âŒ NOPE',w:false},
];
let spS={rot:0,spin:false,att:0,streak:0,failFlag:false};
function buildSpinner(){
  spS={rot:0,spin:false,att:0,streak:0,failFlag:false};
  document.getElementById('mg-area').innerHTML=`
    <div class="mg-title">ğŸ° Ruleta de la Suerte</div>
    <div class="mg-desc">Gira la ruleta. Debes ganar <strong style="color:var(--yellow)">3 veces</strong> para desbloquear la pista.<br>
    La probabilidad de ganar es baja. Si fallas una vez, pierdes la pista.</div>
    <div class="spin-wrap">
      <div class="spin-cw">
        <div class="sp-arrow"></div>
        <canvas id="sp-cv" width="250" height="250" style="border-radius:50%;display:block;"></canvas>
        <div class="sp-center"></div>
      </div>
      <div style="color:#a78bfa;font-size:.8rem;font-weight:800;margin:8px 0">
        Giros usados: <strong id="sp-att" style="color:var(--yellow)">0</strong>/âˆ
        &nbsp;|&nbsp; Racha: <strong id="sp-streak" style="color:var(--green)">0</strong>/3
      </div>
      <div style="font-family:'Fredoka One',cursive;font-size:1.2rem;min-height:30px;margin:6px 0" id="sp-res"></div>
      <button class="btn btn-yellow" id="sp-btn" onclick="spSpin()" style="font-size:1.05rem;padding:13px 30px">ğŸ° Â¡Girar!</button>
    </div>`;
  spDraw(0);
}
function spDraw(rot){
  const cv=document.getElementById('sp-cv');if(!cv)return;
  const ctx=cv.getContext('2d'),cx=125,cy=125,r=122;
  const arc=(Math.PI*2)/SP.length;
  ctx.clearRect(0,0,250,250);
  SP.forEach((s,i)=>{
    const a=rot+arc*i-Math.PI/2,b=a+arc;
    ctx.beginPath();ctx.moveTo(cx,cy);ctx.arc(cx,cy,r,a,b);
    ctx.fillStyle=s.c;ctx.fill();ctx.strokeStyle='#07041A';ctx.lineWidth=3;ctx.stroke();
    ctx.save();ctx.translate(cx,cy);ctx.rotate(a+arc/2);
    ctx.textAlign='right';ctx.fillStyle='#fff';ctx.font='bold 10px Nunito';
    ctx.fillText(s.l,r-8,4);ctx.restore();
  });
  ctx.beginPath();ctx.arc(cx,cy,14,0,Math.PI*2);
  ctx.fillStyle='#07041A';ctx.fill();ctx.strokeStyle='#FCD34D';ctx.lineWidth=3;ctx.stroke();
}
function spSpin(){
  if(spS.spin||spS.failFlag)return;
  spS.spin=true;document.getElementById('sp-btn').disabled=true;
  spS.att++;document.getElementById('sp-att').textContent=spS.att;
  const win=Math.random()<0.18; // baja probabilidad
  const arc=(Math.PI*2)/SP.length;
  const spins=(4+Math.floor(Math.random()*4))*Math.PI*2;
  const winI=[0,2,4,6],loseI=[1,3,5,7];
  const tIdx=(win?winI:loseI)[Math.floor(Math.random()*4)];
  const tAngle=arc*tIdx+arc/2;
  const add=spins+(Math.PI*2-((spS.rot+tAngle)%(Math.PI*2))+(Math.PI*2))%(Math.PI*2);
  const finalR=spS.rot+add;
  const dur=3500,t0=performance.now(),r0=spS.rot;
  function anim(now){
    const el=Math.min((now-t0)/dur,1);
    const ease=1-Math.pow(1-el,4);
    spDraw(r0+(finalR-r0)*ease);
    if(el<1){requestAnimationFrame(anim);return;}
    spS.rot=finalR%(Math.PI*2);spS.spin=false;
    const res=document.getElementById('sp-res');
    if(win){
      spS.streak++;
      document.getElementById('sp-streak').textContent=spS.streak;
      res.innerHTML='<span style="color:var(--green)">ğŸ‰ Â¡PISTA GANADA!</span>';
      if(spS.streak>=3){_t(winClue,1200);return;}
      document.getElementById('sp-btn').disabled=false;
    } else {
      res.innerHTML='<span style="color:var(--red)">âŒ Fallaste. Pista perdida.</span>';
      spS.failFlag=true;_t(loseClue,1200);
    }
  }
  requestAnimationFrame(anim);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  CONFETTI
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function spawnConfetti(n=30){
  const cols=['#9333EA','#22D3EE','#10B981','#FCD34D','#F472B6','#FB923C','#3B82F6'];
  for(let i=0;i<n;i++){
    const el=document.createElement('div');el.className='confp';
    const sz=7+Math.random()*8;
    el.style.cssText=`left:${Math.random()*100}vw;top:-10px;
      background:${cols[Math.floor(Math.random()*cols.length)]};
      width:${sz}px;height:${sz}px;border-radius:${Math.random()>.5?'50%':'3px'};
      animation-duration:${1.5+Math.random()*2.5}s;animation-delay:${Math.random()*.5}s`;
    document.body.appendChild(el);
    el.addEventListener('animationend',()=>el.remove());
  }
}
</script>
</body>
</html>
